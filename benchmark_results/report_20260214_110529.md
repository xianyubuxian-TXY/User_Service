# User Service 性能测试报告

**测试时间**: 2026-02-14 11:05:29  
**Auth Service**: localhost:50052  
**User Service**: localhost:50051  
**测试时长**: 30s

---

## 测试环境

| 项目 | 值 |
|------|-----|
| 操作系统 | Linux 6.17.0-14-generic |
| CPU | 12th Gen Intel(R) Core(TM) i9-12900H |
| CPU 核心数 | 16 |
| 内存 |  |
| MySQL 连接池 | 10 |
| Redis 连接池 | 5 |

---

## 测试结果汇总

| 接口 | 服务 | QPS | 平均延迟 | P95延迟 | P99延迟 | 错误率 |
|------|------|-----|----------|---------|---------|--------|
| ValidateToken | auth-service | 13041 | 7.38ms | 41.22ms | 64.34ms | .02% |
| LoginByPassword | auth-service | 2224 | 22.36ms | 43.08ms | 60.64ms | .07% |
| GetCurrentUser | user-service | 5071 | 19.59ms | 53.71ms | 86.84ms | .06% |

---

## 并发梯度测试 (ValidateToken)

| 并发数 | QPS | 平均延迟 | P95延迟 | P99延迟 |
|--------|-----|----------|---------|---------|
| 10 | 10804 | 0.73ms | 1.25ms | 1.62ms |
| 50 | 18210 | 2.23ms | 3.79ms | 4.87ms |
| 100 | 20422 | 4.05ms | 7.19ms | 10.99ms |
| 200 | 22540 | 7.3ms | 11.62ms | 23.8ms |
| 500 | 24874 | 17.04ms | 23.64ms | 29.54ms |

---

## 📝 简历数据（可直接复制）

### 技术亮点描述

> 基于 C++17 实现高性能用户认证微服务，采用 gRPC 通信框架，集成 MySQL + Redis 双存储架构。
> 通过连接池复用、JWT 本地验证、异步日志等优化手段，单机 QPS 达到 13041+，P99 延迟控制在 65ms 以内。

### 性能指标（可量化数据）

```
性能测试结果（单机，16核CPU）：

• Token 验证接口 (ValidateToken)
  - QPS: 13041+
  - P99 延迟: < 65ms
  - 场景: 网关鉴权，纯 CPU 计算

• 用户登录接口 (LoginByPassword)  
  - QPS: 2224+
  - P99 延迟: < 61ms
  - 场景: MySQL 读 + Redis 读写 + JWT 生成

• 用户查询接口 (GetCurrentUser)
  - QPS: 5071+
  - P99 延迟: < 87ms
  - 场景: Token 验证 + MySQL 读

• 资源配置
  - MySQL 连接池: 10 连接
  - Redis 连接池: 5 连接
  - 错误率: < 0.1%
```

---

*报告生成于 2026-02-14 11:05:35*
